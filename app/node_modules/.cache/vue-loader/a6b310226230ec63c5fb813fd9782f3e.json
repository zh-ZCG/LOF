{"remainingRequest":"D:\\huayu\\app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\huayu\\app\\src\\pages\\Detail\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\huayu\\app\\src\\pages\\Detail\\index.vue","mtime":1651832317248},{"path":"D:\\huayu\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650797765123},{"path":"D:\\huayu\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1650797766823},{"path":"D:\\huayu\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650797765123},{"path":"D:\\huayu\\app\\node_modules\\vue-loader\\lib\\index.js","mtime":1650797767222}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBab29tIGZyb20gIi4vWm9vbS9ab29tIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkRldGFpbCIsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGdvb2RzdGVtcExpc3Q6IHsKICAgICAgICBpZDogIiIsCiAgICAgICAgdXNlcklkOiAiIiwKICAgICAgICBwcmljZTogIiIsCiAgICAgICAgc2t1TnVtOiAxLAogICAgICAgIHNrdURlZmF1bHRJbWc6ICIiLAogICAgICAgIHNrdU5hbWU6ICIiLAogICAgICAgIGlzQ2hlY2tlZDogMSwKICAgICAgICBza3VEZXNjOiAiIiwKICAgICAgfSwKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBab29tLAogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXRHb29kSW5mbyIsIHRoaXMuJHJvdXRlLnBhcmFtcy5pZCk7CiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyhbInNrdUluZm8iLCAic3B1U2FsZUF0dHJMaXN0IiwgInV1aWRfdG9rZW4iXSksCiAgICBza3VEZWZhdWx0SW1nKCkgewogICAgICByZXR1cm4gdGhpcy5za3VJbmZvLnNrdURlZmF1bHRJbWcgfHwge307CiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlQWN0aXZlKHNhbGVBdHRyVmFsdWUsIGFycikgewogICAgICBhcnIuZm9yRWFjaCgoaXRlbSkgPT4gewogICAgICAgIGl0ZW0uaXNDaGVja2VkID0gMDsKICAgICAgfSk7CiAgICAgIHNhbGVBdHRyVmFsdWUuaXNDaGVja2VkID0gMTsKICAgIH0sCiAgICBjaGFuZ2Vza3VOdW0oZXZlbnQpIHsKICAgICAgbGV0IHZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlICogMTsKICAgICAgaWYgKGlzTmFOKHZhbHVlKSB8fCB2YWx1ZSA8IDEpIHsKICAgICAgICB0aGlzLmdvb2RzdGVtcExpc3Quc2t1TnVtID0gMTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmdvb2RzdGVtcExpc3Quc2t1TnVtID0gcGFyc2VJbnQodmFsdWUpOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgYWRkU2hvcGNhcnQoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5nb29kc3RlbXBMaXN0LmlkID0gdGhpcy5za3VJbmZvLmlkOwogICAgICAgIHRoaXMuZ29vZHN0ZW1wTGlzdC5wcmljZSA9IHRoaXMuc2t1SW5mby5wcmljZTsKICAgICAgICB0aGlzLmdvb2RzdGVtcExpc3Quc2t1RGVmYXVsdEltZyA9IHRoaXMuc2t1SW5mby5za3VEZWZhdWx0SW1nOwogICAgICAgIHRoaXMuZ29vZHN0ZW1wTGlzdC5za3VOYW1lID0gdGhpcy5za3VJbmZvLnNrdU5hbWU7CiAgICAgICAgdGhpcy5nb29kc3RlbXBMaXN0LnNrdURlc2MgPSB0aGlzLnNrdUluZm8uc2t1RGVzYzsKICAgICAgICB0aGlzLmdvb2RzdGVtcExpc3QudXNlcklkID0gdGhpcy51dWlkX3Rva2VuOwoKICAgICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUudXNlci5waG9uZSkgewogICAgICAgICAgYXdhaXQgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImFkZE9yVXBkYXRlU2hvcENhcnQyIiwgewogICAgICAgICAgICBnb29kc3RlbXBMaXN0OiB0aGlzLmdvb2RzdGVtcExpc3QsCiAgICAgICAgICAgIHNrdUlkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsCiAgICAgICAgICAgIHNrdU51bTogdGhpcy5za3VOdW0sCiAgICAgICAgICAgIHBob25lOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnBob25lLAogICAgICAgICAgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGF3YWl0IHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJhZGRPclVwZGF0ZVNob3BDYXJ0IiwgewogICAgICAgICAgICBnb29kc3RlbXBMaXN0OiB0aGlzLmdvb2RzdGVtcExpc3QsCiAgICAgICAgICAgIHNrdUlkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsCiAgICAgICAgICAgIHNrdU51bTogdGhpcy5za3VOdW0sCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oIlNLVUlORk8iLCBKU09OLnN0cmluZ2lmeSh0aGlzLnNrdUluZm8pKTsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAiYWRkY2FydHN1Y2Nlc3MiLAogICAgICAgICAgcXVlcnk6IHsgc2t1TnVtOiB0aGlzLmdvb2RzdGVtcExpc3Quc2t1TnVtIH0sCiAgICAgICAgfSk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgYWxlcnQoZXJyb3IubWVzc2FnZSk7CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/pages/Detail","sourcesContent":["<template>\n  <div class=\"detail\">\n    <!-- 主要内容区域 -->\n    <section class=\"con\">\n      <!-- 主要内容区域 -->\n      <div class=\"mainCon\">\n        <!-- 左侧放大镜区域 -->\n        <div class=\"previewWrap\">\n          <!--放大镜效果-->\n          <Zoom :skuDefaultImg=\"skuDefaultImg\" />\n        </div>\n        <!-- 右侧选择区域布局 -->\n        <div class=\"InfoWrap\">\n          <div class=\"goodsDetail\">\n            <h3 class=\"InfoName\">\n              {{ skuInfo.skuName }}\n            </h3>\n            <p class=\"news\">{{ skuInfo.skuDesc }}</p>\n            <div class=\"priceArea\">\n              <div class=\"priceArea1\">\n                <div class=\"title\">\n                  价&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;格\n                </div>\n                <div class=\"price\">\n                  <i>¥</i>\n                  <em>{{ skuInfo.price }}</em>\n                </div>\n              </div>\n              <div class=\"priceArea2\">\n                <div class=\"title\">\n                  <i>促&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;销</i>\n                </div>\n                <div class=\"fixWidth\">\n                  <i class=\"red-bg\">加价购</i>\n                  <em class=\"t-gray\"\n                    >满999.00另加20.00元，或满1999.00另加30.00元，或满2999.00另加40.00元，即可在购物车换购热销商品</em\n                  >\n                </div>\n              </div>\n            </div>\n            <div class=\"support\">\n              <div class=\"supportArea\">\n                <div class=\"title\">地 址：</div>\n                <div class=\"fixWidth\">广东省 深圳市 宝安区</div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"choose\">\n            <div class=\"chooseArea\">\n              <div class=\"choosed\"></div>\n              <dl\n                v-for=\"(spuSaleAttr, index) in spuSaleAttrList\"\n                :key=\"spuSaleAttr.id\"\n              >\n                <dt class=\"title\">{{ spuSaleAttr.saleAttrName }}</dt>\n                <dd\n                  changepirce=\"0\"\n                  :class=\"{ active: spuSaleAttrValue.isChecked == 1 }\"\n                  v-for=\"(\n                    spuSaleAttrValue, index\n                  ) in spuSaleAttr.spuSaleAttrValueList\"\n                  :key=\"index\"\n                  @click=\"\n                    changeActive(\n                      spuSaleAttrValue,\n                      spuSaleAttr.spuSaleAttrValueList\n                    )\n                  \"\n                >\n                  {{ spuSaleAttrValue.saleAttrValueName }}\n                </dd>\n              </dl>\n            </div>\n            <div class=\"cartWrap\">\n              <div class=\"controls\">\n                <a\n                  href=\"javascript:\"\n                  class=\"mins\"\n                  @click=\"\n                    goodstempList.skuNum > 1\n                      ? goodstempList.skuNum--\n                      : (goodstempList.skuNum = 1)\n                  \"\n                  >-</a\n                >\n                <input\n                  autocomplete=\"off\"\n                  class=\"itxt\"\n                  v-model=\"goodstempList.skuNum\"\n                  @change=\"changeskuNum\"\n                />\n                <a\n                  href=\"javascript:\"\n                  class=\"plus\"\n                  @click=\"goodstempList.skuNum++\"\n                  >+</a\n                >\n              </div>\n              <div class=\"add\">\n                <a @click=\"addShopcart\">加入购物车</a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport Zoom from \"./Zoom/Zoom\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"Detail\",\n  data() {\n    return {\n      goodstempList: {\n        id: \"\",\n        userId: \"\",\n        price: \"\",\n        skuNum: 1,\n        skuDefaultImg: \"\",\n        skuName: \"\",\n        isChecked: 1,\n        skuDesc: \"\",\n      },\n    };\n  },\n  components: {\n    Zoom,\n  },\n  mounted() {\n    this.$store.dispatch(\"getGoodInfo\", this.$route.params.id);\n  },\n  computed: {\n    ...mapGetters([\"skuInfo\", \"spuSaleAttrList\", \"uuid_token\"]),\n    skuDefaultImg() {\n      return this.skuInfo.skuDefaultImg || {};\n    },\n  },\n  methods: {\n    changeActive(saleAttrValue, arr) {\n      arr.forEach((item) => {\n        item.isChecked = 0;\n      });\n      saleAttrValue.isChecked = 1;\n    },\n    changeskuNum(event) {\n      let value = event.target.value * 1;\n      if (isNaN(value) || value < 1) {\n        this.goodstempList.skuNum = 1;\n      } else {\n        this.goodstempList.skuNum = parseInt(value);\n      }\n    },\n    async addShopcart() {\n      try {\n        this.goodstempList.id = this.skuInfo.id;\n        this.goodstempList.price = this.skuInfo.price;\n        this.goodstempList.skuDefaultImg = this.skuInfo.skuDefaultImg;\n        this.goodstempList.skuName = this.skuInfo.skuName;\n        this.goodstempList.skuDesc = this.skuInfo.skuDesc;\n        this.goodstempList.userId = this.uuid_token;\n\n        if (this.$store.state.user.phone) {\n          await this.$store.dispatch(\"addOrUpdateShopCart2\", {\n            goodstempList: this.goodstempList,\n            skuId: this.$route.params.id,\n            skuNum: this.skuNum,\n            phone: this.$store.state.user.phone,\n          });\n        } else {\n          await this.$store.dispatch(\"addOrUpdateShopCart\", {\n            goodstempList: this.goodstempList,\n            skuId: this.$route.params.id,\n            skuNum: this.skuNum,\n          });\n        }\n\n        sessionStorage.setItem(\"SKUINFO\", JSON.stringify(this.skuInfo));\n        this.$router.push({\n          name: \"addcartsuccess\",\n          query: { skuNum: this.goodstempList.skuNum },\n        });\n      } catch (error) {\n        alert(error.message);\n      }\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.detail {\n  .con {\n    width: 1200px;\n    margin: 15px auto 0;\n\n    .conPoin {\n      padding: 9px 15px 9px 0;\n\n      & > span + span:before {\n        content: \"/\\00a0\";\n        padding: 0 5px;\n        color: #ccc;\n      }\n    }\n\n    .mainCon {\n      overflow: hidden;\n      margin: 5px 0 15px;\n\n      .previewWrap {\n        float: left;\n        width: 400px;\n        position: relative;\n      }\n\n      .InfoWrap {\n        width: 700px;\n        float: right;\n\n        .InfoName {\n          font-size: 22px;\n          line-height: 21px;\n          margin-top: 15px;\n        }\n\n        .news {\n          color: #e12228;\n          font-size: 17px;\n          margin-top: 15px;\n        }\n\n        .priceArea {\n          background: white;\n          padding: 7px;\n          margin: 13px 0;\n\n          .priceArea1 {\n            overflow: hidden;\n            line-height: 28px;\n            margin-top: 10px;\n\n            .title {\n              float: left;\n              margin-right: 15px;\n            }\n\n            .price {\n              float: left;\n              color: black;\n\n              i {\n                font-size: 16px;\n              }\n\n              em {\n                font-size: 24px;\n                font-weight: 700;\n              }\n\n              span {\n                font-size: 12px;\n              }\n            }\n\n            .remark {\n              float: right;\n            }\n          }\n\n          .priceArea2 {\n            overflow: hidden;\n            line-height: 28px;\n            margin-top: 10px;\n\n            .title {\n              margin-right: 15px;\n              float: left;\n            }\n\n            .fixWidth {\n              width: 520px;\n              float: left;\n\n              .red-bg {\n                background: #c81623;\n                color: #fff;\n                padding: 3px;\n              }\n\n              .t-gray {\n                color: #999;\n              }\n            }\n          }\n        }\n\n        .support {\n          border-bottom: 1px solid #ededed;\n          padding-bottom: 5px;\n\n          .supportArea {\n            overflow: hidden;\n            line-height: 28px;\n            margin-top: 10px;\n\n            .title {\n              margin-right: 15px;\n              float: left;\n            }\n\n            .fixWidth {\n              width: 520px;\n              float: left;\n              color: #999;\n            }\n          }\n        }\n\n        .choose {\n          .chooseArea {\n            overflow: hidden;\n            line-height: 28px;\n            margin-top: 10px;\n\n            dl {\n              overflow: hidden;\n              margin: 13px 0;\n\n              dt {\n                margin-right: 15px;\n                float: left;\n              }\n\n              dd {\n                float: left;\n                margin-right: 5px;\n                color: #666;\n                line-height: 24px;\n                padding: 2px 14px;\n                border-top: 1px solid #eee;\n                border-right: 1px solid #bbb;\n                border-bottom: 1px solid #bbb;\n                border-left: 1px solid #eee;\n\n                &.active {\n                  color: green;\n                  border: 1px solid green;\n                }\n              }\n            }\n          }\n\n          .cartWrap {\n            .controls {\n              width: 156px;\n              float: left;\n              margin-right: 15px;\n\n              .itxt {\n                width: 50px;\n                height: 40px;\n                border: 1px solid #ddd;\n                color: #555;\n                float: left;\n                text-align: center;\n              }\n\n              .plus,\n              .mins {\n                width: 50px;\n                float: left;\n                text-align: center;\n                font-size: 25px;\n                height: 40px;\n                line-height: 35px;\n                background: #f1f1f1;\n                color: #666;\n                border: 1px solid #ccc;\n              }\n            }\n\n            .add {\n              float: left;\n\n              a {\n                background-color: #e1251b;\n                padding: 0 25px;\n                font-size: 16px;\n                color: #fff;\n                height: 40px;\n                line-height: 35px;\n                display: block;\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  .product-detail {\n    width: 1200px;\n    margin: 30px auto 0;\n    overflow: hidden;\n\n    .aside {\n      width: 210px;\n      float: left;\n      border: 1px solid #ccc;\n\n      .tabWraped {\n        height: 40px;\n\n        h4 {\n          border-top: 3px solid #fff;\n          float: left;\n          line-height: 37px;\n          width: 105px;\n          text-align: center;\n          border-bottom: 1px solid #ccc;\n\n          &.active {\n            border-top: 3px solid #e1251b;\n            border-bottom: 0;\n            font-weight: normal;\n          }\n        }\n      }\n\n      .tabContent {\n        padding: 10px;\n\n        .tab-pane {\n          display: none;\n\n          &.active {\n            display: block;\n          }\n\n          &:nth-child(1) {\n            .partList {\n              overflow: hidden;\n\n              li {\n                width: 50%;\n                float: left;\n                border-bottom: 1px dashed #ededed;\n                line-height: 28px;\n              }\n            }\n\n            .goodsList {\n              & > li {\n                margin: 5px 0 15px;\n                border-bottom: 1px solid #ededed;\n                padding-bottom: 5px;\n\n                .list-wrap {\n                  .p-img {\n                    text-align: center;\n\n                    img {\n                      width: 152px;\n                    }\n                  }\n\n                  .price {\n                    font-size: 16px;\n                    color: #c81623;\n                  }\n\n                  .operate {\n                    text-align: center;\n                    margin: 5px 0;\n\n                    a {\n                      background-color: transparent;\n                      border: 1px solid #8c8c8c;\n                      color: #8c8c8c;\n                      display: inline-block;\n                      padding: 2px 14px;\n                      line-height: 18px;\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n\n    .detail {\n      width: 980px;\n      float: right;\n\n      .fitting {\n        border: 1px solid #ddd;\n        margin-bottom: 15px;\n\n        .kt {\n          border-bottom: 1px solid #ddd;\n          background: #f1f1f1;\n          color: #333;\n          padding: 5px 0 5px 15px;\n        }\n\n        .good-suits {\n          height: 170px;\n          padding-top: 10px;\n\n          .master {\n            width: 127px;\n            height: 165px;\n            text-align: center;\n            position: relative;\n            float: left;\n\n            img {\n              width: 87px;\n            }\n\n            p {\n              color: #c81623;\n              font-size: 16px;\n              font-weight: 700;\n            }\n\n            i {\n              position: absolute;\n              top: 48px;\n              right: -25px;\n              font-size: 16px;\n            }\n          }\n\n          .suits {\n            width: 668px;\n            height: 165px;\n            float: left;\n\n            .suitsItem {\n              float: left;\n              width: 127px;\n              padding: 0 20px;\n              text-align: center;\n\n              img {\n                width: 120px;\n                height: 130px;\n              }\n\n              p {\n                font-size: 12px;\n              }\n\n              label {\n                display: block;\n                position: relative;\n\n                input {\n                  vertical-align: middle;\n                }\n\n                span {\n                  vertical-align: middle;\n                }\n              }\n            }\n          }\n\n          .result {\n            border-left: 1px solid #ddd;\n            width: 153px;\n            height: 165px;\n            padding-left: 20px;\n            float: left;\n\n            .num {\n              font-size: 14px;\n              margin-bottom: 10px;\n              margin-top: 10px;\n            }\n\n            .price-tit {\n              font-weight: bold;\n              margin-bottom: 10px;\n            }\n\n            .price {\n              color: #b1191a;\n              font-size: 16px;\n              margin-bottom: 10px;\n            }\n\n            .addshopcar {\n              background-color: #e1251b;\n              border: 1px solid #e1251b;\n              padding: 10px 25px;\n              font-size: 16px;\n              color: #fff;\n              display: inline-block;\n              box-sizing: border-box;\n            }\n          }\n        }\n      }\n\n      .intro {\n        .tab-wraped {\n          background: #ededed;\n          // border: 1px solid #ddd;\n          overflow: hidden;\n\n          li {\n            float: left;\n\n            & + li > a {\n              border-left: 1px solid #ddd;\n            }\n\n            &.active {\n              a {\n                // border: 0;\n                background: #e1251b;\n                color: #fff;\n              }\n            }\n\n            a {\n              display: block;\n              height: 40px;\n              line-height: 40px;\n              padding: 0 11px;\n              text-align: center;\n              color: #666;\n              background: #fcfcfc;\n              border-top: 1px solid #ddd;\n              border-bottom: 1px solid #ddd;\n            }\n          }\n        }\n\n        .tab-content {\n          .tab-pane {\n            display: none;\n\n            &.active {\n              display: block;\n            }\n\n            &:nth-child(1) {\n              .goods-intro {\n                padding-left: 10px;\n\n                li {\n                  margin: 10px 0;\n                }\n              }\n\n              .intro-detail {\n                img {\n                  width: 100%;\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n}\n</style>"]}]}