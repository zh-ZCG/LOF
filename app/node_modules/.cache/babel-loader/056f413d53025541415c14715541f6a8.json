{"remainingRequest":"D:\\huayu\\app\\node_modules\\babel-loader\\lib\\index.js!D:\\huayu\\app\\src\\api\\request.js","dependencies":[{"path":"D:\\huayu\\app\\src\\api\\request.js","mtime":1651758391530},{"path":"D:\\huayu\\app\\babel.config.js","mtime":1650456648521},{"path":"D:\\huayu\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650797765123},{"path":"D:\\huayu\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1650797766823}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKLy/lr7lheGlvc+i/m+ihjOS6jOasoeWwgeijhQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOyAvL+W8leWFpei/m+W6puadoQoKaW1wb3J0IG5wcm9ncmVzcyBmcm9tICJucHJvZ3Jlc3MiOwppbXBvcnQgc3RvcmUgZnJvbSAnQC9zdG9yZSc7CmltcG9ydCAibnByb2dyZXNzL25wcm9ncmVzcy5jc3MiOwp2YXIgcmVxdWVzdHMgPSBheGlvcy5jcmVhdGUoewogIGJhc2VVUkw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXBpJywKICAvL+ivt+axgui2heaXtuaXtumXtAogIHRpbWVvdXQ6IDUwMDAKfSk7IC8v6K+35rGC5oum5oiq5ZmoCgpyZXF1ZXN0cy5pbnRlcmNlcHRvcnMucmVxdWVzdC51c2UoZnVuY3Rpb24gKGNvbmZpZykgewogIC8vY29uZmln5b2T5Lit5YyF5ZCr6K+35rGC5aS0aGVhZGVycwogIC8v6L+b5bqm5p2h5byA5aeLCiAgaWYgKHN0b3JlLnN0YXRlLmRldGFpbC51dWlkX3Rva2VuKSB7CiAgICBjb25maWcuaGVhZGVycy51c2VyVGVtcElkID0gc3RvcmUuc3RhdGUuZGV0YWlsLnV1aWRfdG9rZW47CiAgfQoKICBpZiAoc3RvcmUuc3RhdGUudXNlci50b2tlbikgewogICAgY29uZmlnLmhlYWRlcnMudG9rZW4gPSBzdG9yZS5zdGF0ZS51c2VyLnRva2VuOwogIH0KCiAgbnByb2dyZXNzLnN0YXJ0KCk7CiAgcmV0dXJuIGNvbmZpZzsKfSk7IC8v5ZON5bqU5oum5oiq5ZmoCgpyZXF1ZXN0cy5pbnRlcmNlcHRvcnMucmVzcG9uc2UudXNlKGZ1bmN0aW9uIChyZXMpIHsKICBucHJvZ3Jlc3MuZG9uZSgpOwogIHJldHVybiByZXMuZGF0YTsKfSwgZnVuY3Rpb24gKGVycikgewogIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ2ZsYXNlJykpOwp9KTsgLy/lr7nlpJbmmrTpnLIKCmV4cG9ydCBkZWZhdWx0IHJlcXVlc3RzOw=="},{"version":3,"sources":["D:/huayu/app/src/api/request.js"],"names":["axios","nprogress","store","requests","create","baseURL","timeout","interceptors","request","use","config","state","detail","uuid_token","headers","userTempId","user","token","start","response","res","done","data","err","Promise","reject","Error"],"mappings":";;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB,C,CACA;;AACA,OAAOC,SAAP,MAAsB,WAAtB;AAEA,OAAOC,KAAP,MAAkB,SAAlB;AAEA,OAAO,yBAAP;AAGA,IAAMC,QAAQ,GAAGH,KAAK,CAACI,MAAN,CAAa;AAC1BC,EAAAA,OAAO,EAAE,2BADiB;AAE1B;AACAC,EAAAA,OAAO,EAAE;AAHiB,CAAb,CAAjB,C,CAMA;;AACAH,QAAQ,CAACI,YAAT,CAAsBC,OAAtB,CAA8BC,GAA9B,CAAkC,UAACC,MAAD,EAAY;AAC1C;AACA;AACA,MAAIR,KAAK,CAACS,KAAN,CAAYC,MAAZ,CAAmBC,UAAvB,EAAmC;AAC/BH,IAAAA,MAAM,CAACI,OAAP,CAAeC,UAAf,GAA4Bb,KAAK,CAACS,KAAN,CAAYC,MAAZ,CAAmBC,UAA/C;AACH;;AAED,MAAIX,KAAK,CAACS,KAAN,CAAYK,IAAZ,CAAiBC,KAArB,EAA4B;AACxBP,IAAAA,MAAM,CAACI,OAAP,CAAeG,KAAf,GAAuBf,KAAK,CAACS,KAAN,CAAYK,IAAZ,CAAiBC,KAAxC;AACH;;AAEDhB,EAAAA,SAAS,CAACiB,KAAV;AACA,SAAOR,MAAP;AACH,CAbD,E,CAeA;;AACAP,QAAQ,CAACI,YAAT,CAAsBY,QAAtB,CAA+BV,GAA/B,CAAmC,UAACW,GAAD,EAAS;AACxCnB,EAAAA,SAAS,CAACoB,IAAV;AACA,SAAOD,GAAG,CAACE,IAAX;AACH,CAHD,EAGG,UAACC,GAAD,EAAS;AACR,SAAOC,OAAO,CAACC,MAAR,CAAe,IAAIC,KAAJ,CAAU,OAAV,CAAf,CAAP;AACH,CALD,E,CAOA;;AACA,eAAevB,QAAf","sourcesContent":["//对axios进行二次封装\r\nimport axios from \"axios\";\r\n//引入进度条\r\nimport nprogress from \"nprogress\";\r\n\r\nimport store from '@/store';\r\n\r\nimport \"nprogress/nprogress.css\";\r\n\r\n\r\nconst requests = axios.create({\r\n    baseURL: 'http://localhost:3000/api',\r\n    //请求超时时间\r\n    timeout: 5000,\r\n});\r\n\r\n//请求拦截器\r\nrequests.interceptors.request.use((config) => {\r\n    //config当中包含请求头headers\r\n    //进度条开始\r\n    if (store.state.detail.uuid_token) {\r\n        config.headers.userTempId = store.state.detail.uuid_token;\r\n    }\r\n\r\n    if (store.state.user.token) {\r\n        config.headers.token = store.state.user.token;\r\n    }\r\n\r\n    nprogress.start();\r\n    return config;\r\n});\r\n\r\n//响应拦截器\r\nrequests.interceptors.response.use((res) => {\r\n    nprogress.done();\r\n    return res.data;\r\n}, (err) => {\r\n    return Promise.reject(new Error('flase'));\r\n});\r\n\r\n//对外暴露\r\nexport default requests;"]}]}