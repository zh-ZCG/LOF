{"remainingRequest":"D:\\huayu\\app\\node_modules\\babel-loader\\lib\\index.js!D:\\huayu\\app\\src\\store\\user.js","dependencies":[{"path":"D:\\huayu\\app\\src\\store\\user.js","mtime":1651814969649},{"path":"D:\\huayu\\app\\babel.config.js","mtime":1650456648521},{"path":"D:\\huayu\\app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650797765123},{"path":"D:\\huayu\\app\\node_modules\\babel-loader\\lib\\index.js","mtime":1650797766823}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkQ6L2h1YXl1L2FwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvci5qcyI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmVycm9yLmNhdXNlLmpzIjsKaW1wb3J0IHsgcmVxR2V0Q29kZSwgcmVxVXNlclJlZ2lzdGVyLCByZXFVc2VyTG9naW4sIHJlcVVzZXJJbmZvLCByZXFVcGRhdGVVc2VyR29vZHNMaXN0IH0gZnJvbSAiQC9hcGkiOwppbXBvcnQgeyBzZXRUb2tlbiwgZ2V0VG9rZW4sIHJlbW92ZVRva2VuIH0gZnJvbSAiQC91dGlscy90b2tlbiI7IC8v55m75b2V5LiO5rOo5YaM55qE5qih5Z2XCgp2YXIgc3RhdGUgPSB7CiAgY29kZTogIiIsCiAgdG9rZW46IGdldFRva2VuKCksCiAgcGhvbmU6ICcnCn07CnZhciBtdXRhdGlvbnMgPSB7CiAgR0VUQ09ERTogZnVuY3Rpb24gR0VUQ09ERShzdGF0ZSwgY29kZSkgewogICAgc3RhdGUuY29kZSA9IGNvZGU7CiAgfSwKICBVU0VSTE9HSU46IGZ1bmN0aW9uIFVTRVJMT0dJTihzdGF0ZSwgdG9rZW4pIHsKICAgIHN0YXRlLnRva2VuID0gdG9rZW47CiAgfSwKICBHRVRVU0VSSU5GTzogZnVuY3Rpb24gR0VUVVNFUklORk8oc3RhdGUsIHBob25lKSB7CiAgICBzdGF0ZS5waG9uZSA9IHBob25lOwogIH0sCiAgLy8gLy/muIXpmaTmnKzlnLDmlbDmja4KICBDTEVBUjogZnVuY3Rpb24gQ0xFQVIoc3RhdGUpIHsKICAgIC8v5biu5LuT5bqT5Lit5YWI5YWz55So5oi35L+h5oGv5riF56m6CiAgICBzdGF0ZS50b2tlbiA9ICcnOwogICAgc3RhdGUucGhvbmUgPSAnJzsgLy/mnKzlnLDlrZjlgqjmlbDmja7muIXnqboKCiAgICByZW1vdmVUb2tlbigpOwogIH0KfTsKdmFyIGFjdGlvbnMgPSB7CiAgZ2V0Q29kZTogZnVuY3Rpb24gZ2V0Q29kZShfcmVmLCBwaG9uZSkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgdmFyIGNvbW1pdCwgcmVzdWx0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZi5jb21taXQ7CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHJlcUdldENvZGUocGhvbmUpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmICghKHJlc3VsdC5yZXN1bHQgPT0gMjAwKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNvbW1pdCgiR0VUQ09ERSIsIHJlc3VsdC5jb2RlKTsKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCAib2siKTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoImZhaWxlIikpKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUpOwogICAgfSkpKCk7CiAgfSwKICAvLyAvL+eUqOaIt+azqOWGjAogIHVzZXJSZWdpc3RlcjogZnVuY3Rpb24gdXNlclJlZ2lzdGVyKF9yZWYyLCB1c2VyKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGNvbW1pdCwgcmVzdWx0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWYyLmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHJlcVVzZXJSZWdpc3Rlcih1c2VyKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgaWYgKCEocmVzdWx0LmNvZGUgPT0gMjAwKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIiwgIm9rIik7CgogICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgaWYgKCEocmVzdWx0LmNvZGUgPT0gMjAxKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgYWxlcnQoIueUqOaIt+W3suWtmOWcqCIpOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iLCBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoImZhaWxlIikpKTsKCiAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9LAogIC8vIC8v55m75b2V5Lia5YqhCiAgdXNlckxvZ2luOiBmdW5jdGlvbiB1c2VyTG9naW4oX3JlZjMsIGRhdGEpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICB2YXIgY29tbWl0LCByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjMuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVxVXNlckxvZ2luKGRhdGEpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0My5zZW50OwoKICAgICAgICAgICAgICBpZiAoIShyZXN1bHQuY29kZSA9PSAyMDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBjb21taXQoIlVTRVJMT0dJTiIsIHJlc3VsdC5yZXN1bHQudG9rZW4pOwogICAgICAgICAgICAgIHNldFRva2VuKHJlc3VsdC5yZXN1bHQudG9rZW4pOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDMuYWJydXB0KCJyZXR1cm4iLCAib2siKTsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5hYnJ1cHQoInJldHVybiIsIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcigiZmFpbGUiKSkpOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSgpOwogIH0sCiAgLy8gLy/ojrflj5bnlKjmiLfkv6Hmga8KICBnZXRVc2VySW5mbzogZnVuY3Rpb24gZ2V0VXNlckluZm8oX3JlZjQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICB2YXIgY29tbWl0LCByZXN1bHQ7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29tbWl0ID0gX3JlZjQuY29tbWl0OwogICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gcmVxVXNlckluZm8oKTsKCiAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICByZXN1bHQgPSBfY29udGV4dDQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKCEocmVzdWx0LmNvZGUgPT0gMjAwKSkgewogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAvL+aPkOS6pOeUqOaIt+S/oeaBrwogICAgICAgICAgICAgIGNvbW1pdCgiR0VUVVNFUklORk8iLCByZXN1bHQucGhvbmUpOwogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuYWJydXB0KCJyZXR1cm4iLCAnb2snKTsKCiAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdmYWlsZScpKSk7CgogICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTQpOwogICAgfSkpKCk7CiAgfSwKICAvLyAvL+mAgOWHuueZu+W9lQogIHVzZXJMb2dvdXQ6IGZ1bmN0aW9uIHVzZXJMb2dvdXQoX3JlZjUpIHsKICAgIHZhciBjb21taXQgPSBfcmVmNS5jb21taXQ7CiAgICAvL+WPquaYr+WQkeacjeWKoeWZqOWPkei1t+S4gOasoeivt+axgu+8jOmAmuefpeacjeWKoeWZqOa4hemZpHRva2VuCiAgICBjb21taXQoIkNMRUFSIik7CiAgICByZXR1cm4gJ29rJzsKICB9LAogIC8v5pu05paw55So5oi36LSt54mp6L2mCiAgdXBkYXRldXNlcmdvb2RzOiBmdW5jdGlvbiB1cGRhdGV1c2VyZ29vZHMoX3JlZjYsIHBob25lKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgdmFyIGNvbW1pdCwgcmVzdWx0OwogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIGNvbW1pdCA9IF9yZWY2LmNvbW1pdDsKICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDM7CiAgICAgICAgICAgICAgcmV0dXJuIHJlcVVwZGF0ZVVzZXJHb29kc0xpc3QocGhvbmUpOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3VsdCA9IF9jb250ZXh0NS5zZW50OwoKICAgICAgICAgICAgICBpZiAoIShyZXN1bHQuY29kZSA9PSAyMDApKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDg7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuYWJydXB0KCJyZXR1cm4iLCAnb2snKTsKCiAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdmYWlsZScpKSk7CgogICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlNSk7CiAgICB9KSkoKTsKICB9Cn07CnZhciBnZXR0ZXJzID0ge307CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogc3RhdGUsCiAgbXV0YXRpb25zOiBtdXRhdGlvbnMsCiAgYWN0aW9uczogYWN0aW9ucywKICBnZXR0ZXJzOiBnZXR0ZXJzCn07"},{"version":3,"sources":["D:/huayu/app/src/store/user.js"],"names":["reqGetCode","reqUserRegister","reqUserLogin","reqUserInfo","reqUpdateUserGoodsList","setToken","getToken","removeToken","state","code","token","phone","mutations","GETCODE","USERLOGIN","GETUSERINFO","CLEAR","actions","getCode","commit","result","Promise","reject","Error","userRegister","user","alert","userLogin","data","getUserInfo","userLogout","updateusergoods","getters"],"mappings":"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","sourcesContent":["import {\r\n    reqGetCode,\r\n    reqUserRegister,\r\n    reqUserLogin,\r\n    reqUserInfo,\r\n    reqUpdateUserGoodsList\r\n} from \"@/api\";\r\nimport { setToken, getToken, removeToken } from \"@/utils/token\";\r\n//登录与注册的模块\r\nconst state = {\r\n    code: \"\",\r\n    token: getToken(),\r\n    phone: '',\r\n};\r\nconst mutations = {\r\n    GETCODE(state, code) {\r\n        state.code = code;\r\n    },\r\n    USERLOGIN(state, token) {\r\n        state.token = token;\r\n    },\r\n    GETUSERINFO(state, phone) {\r\n        state.phone = phone;\r\n    },\r\n    // //清除本地数据\r\n    CLEAR(state) {\r\n        //帮仓库中先关用户信息清空\r\n        state.token = '';\r\n        state.phone = '';\r\n        //本地存储数据清空\r\n        removeToken();\r\n    }\r\n};\r\nconst actions = {\r\n    async getCode({ commit }, phone) {\r\n        let result = await reqGetCode(phone);\r\n        if (result.result == 200) {\r\n            commit(\"GETCODE\", result.code);\r\n            return \"ok\";\r\n        } else {\r\n            return Promise.reject(new Error(\"faile\"));\r\n        }\r\n    },\r\n    // //用户注册\r\n    async userRegister({ commit }, user) {\r\n        let result = await reqUserRegister(user);\r\n        if (result.code == 200) {\r\n            return \"ok\";\r\n        } else if (result.code == 201) {\r\n            alert(\"用户已存在\")\r\n        } else {\r\n            return Promise.reject(new Error(\"faile\"));\r\n        }\r\n    },\r\n    // //登录业务\r\n    async userLogin({ commit }, data) {\r\n        let result = await reqUserLogin(data);\r\n        if (result.code == 200) {\r\n            commit(\"USERLOGIN\", result.result.token);\r\n            setToken(result.result.token);\r\n            return \"ok\";\r\n        } else {\r\n            return Promise.reject(new Error(\"faile\"));\r\n        }\r\n    },\r\n    // //获取用户信息\r\n    async getUserInfo({ commit }) {\r\n        let result = await reqUserInfo();\r\n        if (result.code == 200) {\r\n            //提交用户信息\r\n            commit(\"GETUSERINFO\", result.phone);\r\n            return 'ok';\r\n        } else {\r\n            return Promise.reject(new Error('faile'));\r\n        }\r\n    },\r\n    // //退出登录\r\n    userLogout({ commit }) {\r\n        //只是向服务器发起一次请求，通知服务器清除token\r\n            commit(\"CLEAR\");\r\n            return 'ok';\r\n        \r\n    },\r\n    //更新用户购物车\r\n    async updateusergoods({commit},phone){\r\n        let result = await reqUpdateUserGoodsList(phone);\r\n        if (result.code == 200) {\r\n            return 'ok';\r\n        } else {\r\n            return Promise.reject(new Error('faile'));\r\n        }\r\n    }\r\n};\r\nconst getters = {};\r\nexport default {\r\n    state,\r\n    mutations,\r\n    actions,\r\n    getters,\r\n};\r\n"]}]}